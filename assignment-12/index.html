<!DOCTYPE html>
<html lang="en_US">
	<head>
		<meta charset="UTF-8">

		<!-- Provide a description of your page: -->
		<meta name="description" content="Where do I plan to go on my Cluster adventure?">

		<!-- Provide the author information for the page: -->
		<meta name="author" content="Noah S. Roberts">

		<!-- Other meta elements -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!-- Favicon -->
		<link rel="icon" type="image/x-icon" href="/assets/favicon.ico">

		<title>Cluster Update 2: New plan! | Noah's Web Design Adventures</title>
		<link rel="stylesheet" href="/css/new-new-style.css">
	</head>

	<body>
		<header>
			<!-- This is the header for larger displays (at least 600px wide and 400px tall), like computers. -->
			<div id="large-header">
				<p class="site-title"><a href="/" class="no-hover no-visited">Noah's Web Design Adventures</a></p>
	
				<div class="items">
					<p class="header-item"><a href="./README.md">README</a></p>
	
					<div class="header-item dropdown"> <!-- Assignments -->
						<p class="dropdown-title">Assignments</p>
	
						<div class="dropdown-content">
							<p><a href="/assignment-01/" target="_parent">Week 1</a></p>
							<p><a href="/assignment-02/" target="_parent">Week 2</a></p>
							<p><a href="/assignment-03/" target="_parent">Week 3</a></p>
							<p><a href="/assignment-04/" target="_parent">Week 4</a></p>
							<p><a href="/assignment-05/" target="_parent">Week 5</a></p>
							<p><a href="/assignment-06/" target="_parent">Week 6</a></p>
							<p><a href="/assignment-07/" target="_parent">Week 7</a></p>
							<p><a href="/assignment-08/" target="_parent">Week 8</a></p>
							<p><a href="/assignment-09/" target="_parent">Week 9</a></p>
							<p><a href="/assignment-10/" target="_parent">Week 10</a></p>
							<p><a href="/assignment-11/" target="_parent">Week 11</a></p>
							<p><a href="/assignment-12/" target="_parent">Week 12</a></p>
							<p><a href="/assignment-13/" target="_parent">Week 13</a></p>
							<p><a href="/assignment-14/" target="_parent">Week 14</a></p>
						</div>
					</div>
	
					<div class="header-item dropdown"> <!-- Cluster Computing -->
						<p class="dropdown-title">Cluster Computing</p>
	
						<div class="dropdown-content">
							<p><a href="/assignment-10/" target="_parent">The Plan</a></p>
							<p><a href="/assignment-11/" target="_parent">Update 1</a></p>
							<p><a href="/assignment-12/" target="_parent">Update 2</a></p>
						</div>
					</div>
				</div>
	
				<hr />
			</div>

			<!-- This is the header for smaller displays, like phones. -->
			<div id="small-header">
				<p class="site-title"><a href="/" class="no-hover no-visited">Noah's Web Design Adventures</a></p>
	
				<!-- This is the little button you click to show the menu. It interfaces with a script I wrote (with the little JavaScript I know) to show #nav-menu and hide div#content and the footer. -->
				<img id="menu-icon" src="/assets/bars-16.png" alt="Menu button" onclick="toggleNavMenu()" /> 

				<hr />
			</div>

			<!-- This is the section for the menu that is controlled by nav-menu-control.js. It is a different div, because #small-header must be on top of everything, so it can't be the parent element of #nav-menu. -->
			<div class="items" id="nav-menu">
				<div class="header-item title">
					<p><a href="./README.md">README</a></p>
				</div>

				<!-- This triggers toggleSelection() from nav-menu-control to toggle the visibility of this section -->
				<div class="header-item dropdown" onclick="toggleSection('assignments')"> <!-- Assignments -->
					<p><a class="dropdown-title" href="#">Assignments</a></p>

					<div class="dropdown-content" id="assignments">
						<p><a href="/assignment-01/" target="_parent">Week 1</a></p>
						<p><a href="/assignment-02/" target="_parent">Week 2</a></p>
						<p><a href="/assignment-03/" target="_parent">Week 3</a></p>
						<p><a href="/assignment-04/" target="_parent">Week 4</a></p>
						<p><a href="/assignment-05/" target="_parent">Week 5</a></p>
						<p><a href="/assignment-06/" target="_parent">Week 6</a></p>
						<p><a href="/assignment-07/" target="_parent">Week 7</a></p>
						<p><a href="/assignment-08/" target="_parent">Week 8</a></p>
						<p><a href="/assignment-09/" target="_parent">Week 9</a></p>
						<p><a href="/assignment-10/" target="_parent">Week 10</a></p>
						<p><a href="/assignment-11/" target="_parent">Week 11</a></p>
						<p><a href="/assignment-12/" target="_parent">Week 12</a></p>
						<p><a href="/assignment-13/" target="_parent">Week 13</a></p>
						<p><a href="/assignment-14/" target="_parent">Week 14</a></p>
					</div>
				</div>

				<div class="header-item dropdown" onclick="toggleSection('cluster-computing')"> <!-- Cluster Computing -->
					<p><a class="dropdown-title" href="#">Cluster Computing</a></p>

					<div class="dropdown-content" id="cluster-computing">
						<p><a href="/assignment-10/" target="_parent">The Plan</a></p>
						<p><a href="/assignment-11/" target="_parent">Update 1</a></p>
						<p><a href="/assignment-12/" target="_parent">Update 2</a></p>
					</div>
				</div>
			</div>
		</header>
		

		<div id="content">
			<!-- Because Assignments 10 through 12 are all about the same topic, I decided to add this bit to reflect that and provide easy access to all the updates. -->
			<h1>Cluster Update 2: New Plan!</h1>
			<div class="series-disclaimer">
				<p>
					This page is part of my Cluster Computing Adventure series.
				</p>
				<ol>
					<li><a href="/assignment-10/">Cluster Computing</a></li>
					<li><a href="/assignment-11/">Cluster Update 1: That didn't work.</a></li>
					<li>Cluster Update 2: New plan! &ndash; <b>you are here</b></li>
				</ol>
			</div>

			<h2>Out with the old...</h2>
			<p>In with the... different. Yeah.</p>
			<p>
				I have decided that Proxmox is not what I want. So what now? I wanted to try an OS that is not specifically designed for clustering. I need an OS that can do it though. It needs to have great support for older and newer hardware, but it can't be a resource hog. It also needs to be stable. Fedora Server is a good fit. 
			</p>

			<p>
				And, as I mentioned in the previous update, it has a killer web interface. I mean, look at it! It has all the things you would need to quickly and easily access. 
			</p>

			<div class="inline">
				<div class="inline-right" id="web-interface-img">
					<img src="/assets/images/fedora-server-web-interface.jpg" alt="Image of the awesome web-based management interface for Fedora 39 Server" max-width="500px" />
				</div>

				<div class="inline-left" id="web-interface-p">
					<p>
						I like Fedora Workstation and now use it as my primary Linux <span class="inline-dfn" title="Abbreviation: distribution; i.e. Ubuntu, Fedora, or Arch">distro</span> on my laptop (technically laptops). Why not try Fedora Server? In addition to simply being my preference, Fedora Linux is the <span class="inline-dfn" title="has a slightly newer kernel and packages; serves as a sort of testing ground for downstream versions">upstream version</span> of RedHat Linux, which is commonly used in enterprise environments. By familiarizing myself with Fedora Server (and Workstation, to a point), I am accruing useful skills for a potential career path.
					</p>
	
					<p>
						It also has a JavaScript ssh terminal for easy terminal access. This is extremely useful, as most server administration is done via the terminal. The alternative to this would be to connect to it via ssh through something like the Terminal on Unix-based systems or PuTTY on Windows.
					</p>
				</div>
			</div>

			<h2>What have I done since last week?</h2>
			<p>
				As soon as Fedora finished installing on each node, I plugged in a USB Ethernet adaptor to allow it to grab updates, install <a href="https://en.wikipedia.org/wiki/Docker_(software)" title="Wikipedia: Docker (software)" target="_blank">Docker</a> stuff and the nano text editor, and sync with whatever NTP server it wanted to.
			</p>

			<p>
				I gave each one a name as well. The primary node is "tiny1", and the two secondary nodes are "tiny2" and "tiny3". Each node also has an <span class="inline-dfn" title="Acronym: Fully Qualified Domain Name; domain with all applicable subdomains, i.e. two.one.example.com. or www.example.com.">FQDN</span>.
			</p>

			<p>
				I have yet to join them together in a cluster, though. I want to make sure each node can get updates and keep their clocks in sync. So, I tried to set the primary node up as a network gateway to forward all Internet traffic from the other nodes to said Internet. Even after addressing the firewall issues that I mentioned last week, it still does not work. That takes leads us to the new plan...
			</p>

			<h2>The new plan!</h2>
			<p>
				I think my best bet for the networking issue is to use a <a href="https://openwrt.org/" title="Link: OpenWRT homepage" target="_blank">OpenWRT</a>-based router. I have been eyeing the <a href="https://www.raspberrypi.com/products/compute-module-4/" title="Link: Raspberry Pi Compute Module 4 purchase page" target="_blank">Raspberry Pi Compute Module 4</a>, specifically the variant with no internal storage and 2 GB of RAM, paired with the <a href="https://www.dfrobot.com/product-2242.html" title="Link: DFRobot CM4 Router Carrier Board" target="_blank">DFRobot <span class="inline-dfn" title="Acronym: Compute Module 4">CM4</span> Router Carrier Board</a>. This pairing is perfect for what I need. I just need a basic, gigabit Ethernet router with no WiFi capabilities to offload the gateway duty to a purpose-built, standalone device.
			</p>

			<p>
				Once I have that sorted out, I set them up in a three-node Docker Swarm. There are some significant advantages to this approach. For one, I am able tap into the insane amount of purpose-built Docker containers for all sorts of things. On top of that, Docker containers require much less computational overhead than VMs do. The best part is the Swarm system, though. Once the nodes are joined, you just have to connect to the main node and run the Docker container. You don't have to tell it what node to run on or where to store the container. All the storage for the containers I will run will be in a Samba share running off my gaming PC, so they'll all have access to it.
			</p>

			<p>
				My ultimate plan for this cluster is to use it as my home server. It will eventually go from a pet project in process to a pet project <em>in use</em>. I will run Plex, HandBrake, Transmission, WireGuard, OwnCloud, and Samba on it, all tied together by Nginx for reverse proxy. I will eventually get an off-the-shelf NAS to fulfill that storage roll, but that NAS will <strong>only</strong> be serving Samba shares. I also have the idea to make a mini server rack with all the components neatly stacked in one rather adorable package.
			</p>

			<p>
				Beyond that though, I don't know what will become of it. My life is changing so much, and a lot of this depends on where I live next year (and if I can manage my own Internet), so who knows what will actually happen.
			</p>
		</div>


		<footer id="footer">
			<table>
				<tr>
					<td id="footer-left">
						<p>&copy; 2023 Noah S. Roberts, licensed under CC BY-NC-SA 4.0</p>
					</td>
					
					<td id="footer-right" >
						<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1"><img src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-nc-sa.svg" width="60" id="cc-image" /></a>
					</td>
				</tr>
			</table>
		</footer>
	</body>

	<!-- Load Scripts -->
	<!-- Must be at the end of the document to work right -->
	<script src="/assets/selfhost/jquery-3.7.1.min.js"></script>
	<script src="/scripts/nav-menu-control.js"></script>
	<script src="/scripts/inline-wrap-control.js"></script>
</html>